<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Projeto FÃªnix â€” Planner DiÃ¡rio</title>

  <!-- Tailwind (ok para agora) -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;600&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">

  <style>
    body {
      font-family: 'Inter', sans-serif;
      background: #fdfbf7;
      color: #3d3d3d;
    }
    h1, h2 {
      font-family: 'Playfair Display', serif;
    }
    .card {
      background: white;
      border-radius: 1.5rem;
      padding: 1.5rem;
      border: 1px solid #e8e2d9;
      box-shadow: 0 4px 20px -5px rgba(0,0,0,0.05);
    }
    .input {
      width: 100%;
      padding: 1rem;
      border-radius: 1rem;
      border: 1px solid #e8e2d9;
      background: #fdfbf7;
    }
    .input:focus {
      outline: none;
      border-color: #c67b5c;
    }
    .btn-mood {
      padding: .5rem 1rem;
      border-radius: 1rem;
      border: 1px solid #e8e2d9;
      background: white;
      font-size: .875rem;
      cursor: pointer;
    }
    .btn-mood.active {
      background: #c67b5c;
      color: white;
      border-color: #c67b5c;
    }
  </style>
</head>

<body class="pb-20">

<header class="sticky top-0 bg-white/80 backdrop-blur border-b border-[#e8e2d9]">
  <div class="max-w-3xl mx-auto px-4 py-4 text-center">
    <h1 class="text-3xl text-[#c67b5c] font-bold">Projeto FÃªnix</h1>
    <p class="text-xs uppercase tracking-widest text-gray-400">
      Redescubra sua essÃªncia diariamente
    </p>
  </div>
</header>

<main class="max-w-3xl mx-auto px-4 py-8 space-y-10">

  <!-- DATA -->
  <section class="flex flex-col md:flex-row items-center justify-between gap-4">
    <div>
      <h2 id="day-name" class="text-3xl capitalize">â€”</h2>
      <p id="full-date" class="text-xs uppercase tracking-widest text-gray-400">â€”</p>
    </div>
    <input type="date" id="date-picker" class="input max-w-xs font-bold text-[#c67b5c]" />
  </section>

  <!-- FRASE -->
  <section class="card text-center">
    <p class="text-xs uppercase tracking-widest text-[#c67b5c] mb-3">
      InspiraÃ§Ã£o FÃªnix
    </p>
    <blockquote id="daily-phrase" class="text-2xl italic">
      â€”
    </blockquote>
  </section>

  <!-- MOOD -->
  <section class="space-y-3">
    <h3 class="font-serif font-bold text-lg">ğŸŒ¿ Como vocÃª se sente hoje?</h3>
    <div id="mood-container" class="flex flex-wrap gap-2"></div>
  </section>

  <!-- ESCRITA -->
  <section class="space-y-3">
    <h3 class="font-serif font-bold text-lg">âœï¸ Escrita terapÃªutica</h3>
    <textarea id="writing" class="input min-h-[120px]" placeholder="Escreva livremente..."></textarea>
  </section>

</main>

<script>
/* ==========================================
   PROJETO FÃŠNIX â€” SCRIPT ESTÃVEL
   âœ” Fonte Ãºnica de data
   âœ” Sem UTC
   âœ” Sem Service Worker
========================================== */

const MOODS = ['Leve','Cansada','Inspirada','Ansiosa','Presente','Confusa','Grata','Empoderada'];
const PHRASES = [
  "Renove sua energia e desperte sua essÃªncia.",
  "Cada amanhecer Ã© um convite ao autoconhecimento.",
  "O silÃªncio tambÃ©m Ã© resposta.",
  "Respeite seu ritmo.",
  "Hoje Ã© sobre vocÃª."
];

let state = {
  date: '',
  mood: '',
  writing: ''
};

function formatDateVisual(dateStr) {
  const [y, m, d] = dateStr.split('-').map(Number);
  const date = new Date(y, m - 1, d, 12); // meio-dia evita bug
  document.getElementById('day-name').textContent =
    date.toLocaleDateString('pt-BR', { weekday: 'long' });
  document.getElementById('full-date').textContent =
    date.toLocaleDateString('pt-BR', { day:'2-digit', month:'long', year:'numeric' });
}

function loadDay(dateStr) {
  state.date = dateStr;
  formatDateVisual(dateStr);
  document.getElementById('daily-phrase').textContent =
    PHRASES[Math.floor(Math.random() * PHRASES.length)];
}

function init() {
  const picker = document.getElementById('date-picker');

  const today = new Date();
  picker.valueAsDate = today;
  loadDay(picker.value);

  picker.addEventListener('change', e => {
    loadDay(e.target.value);
  });

  const moodContainer = document.getElementById('mood-container');
  MOODS.forEach(m => {
    const btn = document.createElement('button');
    btn.textContent = m;
    btn.className = 'btn-mood';
    btn.onclick = () => {
      document.querySelectorAll('.btn-mood').forEach(b => b.classList.remove('active'));
      btn.classList.add('active');
      state.mood = m;
    };
    moodContainer.appendChild(btn);
  });
}

document.addEventListener('DOMContentLoaded', init);
</script>

</body>
</html>
